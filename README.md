# Docman

## 介绍
Docman是一款命令行形式的文献管理工具。用户提供一份包含引用文献基本信息的json，输入正文内容，程序将根据行文中引用出现的索引，例如\[1]，生成一份引用列表。

## 使用
### 文件与格式规范
文献合集的文件的格式为 JSON ，每个文献都具有一个数字 id，它在文章中使用 \[id] 来进行引用。Docman找到文章中所有的 id，并按照 id 顺序在文末对文献进行排列。支持的文献种类有：书籍、网页和文章。其中，书籍支持isbn号查询信息，网页支持url查询信息。
### 命令行交互
```
./docman OPTIONS input_file
```
其中input_file为输入的文章路径（如果仅为一个-，则从标准输入读入），OPTIONS则由若干个选项组成，每个选项则有以下可能：
1. **-c citations_path** 表示文献合集的路径，必须填写。
2. **-o output_path** 表示增加引用列表后的文章的输出路径。这个选项如果没有指定，则输出到标准输出。

## 异常情况处理
**遇有以下情况，程序将输出错误信息并结束运行。**
### 文件路径异常
提供的文件路径无法访问或正常读写。
### 错误或自相矛盾的命令
如使用非法命令、重复指定文件路径、缺省必要的命令等。
### 非法的文献合集
例如，使用重复的id，缺少必要的信息（如title）等。
### 非法的文本输入
例如，无法匹配的'\['或']'、提供的id无法在文献合集中被查询到等。
### 信息查询中发生的错误
例如，400 Bad Request: Invalid ISBN format. 500 Internal Server Error: An internal error occurred.